# Гостиничный бизнес - Django + Wagtail CMS

Веб-приложение для управления гостиничным бизнесом с интеграцией Wagtail CMS для редактирования контента.

## Возможности

- **Управление гостиницами и номерами**: Администратор может добавлять гостиницы, номера с фотографиями, описаниями и ценами
- **Фильтрация по датам**: Пользователи могут фильтровать гостиницы и номера по датам заезда/выезда
- **Бронирование**: Форма для отправки заявок на бронирование номеров
- **Wagtail CMS**: Редактирование контента через админ-панель:
  - Главная страница с возможностью вставки видео YouTube, изображений и текста
  - Страница контактов
  - Индивидуальные страницы для каждой гостиницы с редактируемым контентом

## Технологии

- Django 4.2.7
- Wagtail 5.2 (CMS)
- PostgreSQL
- Bootstrap 5
- Docker & Docker Compose

## Установка и запуск

### Требования

- Docker
- Docker Compose

### Запуск проекта

1. Клонируйте репозиторий или перейдите в директорию проекта

2. Запустите проект через Docker Compose:
```bash
docker-compose up --build
```

3. Суперпользователь уже создан:
   - Логин: `admin`
   - Пароль: `admin123`
   
   Для создания нового суперпользователя:
```bash
docker-compose exec web python manage.py createsuperuser
```

4. Загрузите тестовые данные (гостиницы, номера, бронирования):
```bash
docker-compose exec web python manage.py load_data
```

4. Откройте браузер и перейдите по адресу:
   - Главная страница: http://localhost:8000
   - Админ-панель Django: http://localhost:8000/django-admin/
   - Админ-панель Wagtail: http://localhost:8000/admin/

## Использование

### Добавление гостиниц и номеров

1. Войдите в админ-панель Django: http://localhost:8000/django-admin/
2. Добавьте гостиницы в разделе "Гостиницы"
3. Добавьте номера для каждой гостиницы в разделе "Номера"
4. Загрузите фотографии номеров

### Редактирование контента через Wagtail

1. Войдите в админ-панель Wagtail: http://localhost:8000/admin/
   - Логин: `admin`
   - Пароль: `admin123`

2. Создайте или отредактируйте страницы:
   - **Главная страница**: Перейдите в "Pages" → создайте или отредактируйте главную страницу. Добавьте контент, видео YouTube, изображения через блоки StreamField
   - **Страница контактов**: Создайте страницу типа "Страница контактов", добавьте контактную информацию и контент
   - **Страницы гостиниц**: Создайте страницу типа "Страница гостиницы" для каждой гостиницы с редактируемым контентом

### Галерея фотографий гостиницы

1. Войдите в админ-панель Django: http://localhost:8000/django-admin/
2. Перейдите в раздел "Гостиницы" → выберите гостиницу
3. Внизу страницы в секции "Фото гостиницы" добавьте фотографии
4. Фотографии автоматически отобразятся на странице гостиницы в Wagtail

### Вставка YouTube видео

В редакторе Wagtail:
1. Откройте страницу гостиницы для редактирования
2. Добавьте блок "YouTube видео" в разделе "Контент"
3. Вставьте URL видео YouTube (например: `https://www.youtube.com/watch?v=VIDEO_ID`)
4. При необходимости добавьте подпись
5. Видео будет отображаться на странице гостиницы вместе с галереей

Подробная инструкция: см. файл `HOTEL_GALLERY_INSTRUCTIONS.md`

## Структура проекта

```
hotel_project/
├── hotels/          # Приложение для гостиниц, номеров и бронирований
├── pages/           # Приложение Wagtail для редактируемых страниц
├── hotel_project/   # Настройки Django проекта
├── docker-compose.yml
├── Dockerfile
└── requirements.txt
```

## База данных

Проект использует PostgreSQL. Данные сохраняются в Docker volume `postgres_data`.

## Медиа файлы

Загруженные изображения сохраняются в Docker volume `media_volume`.

## Остановка проекта

```bash
docker-compose down
```

Для удаления всех данных (включая базу данных):
```bash
docker-compose down -v
```

